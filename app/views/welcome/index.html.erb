<!--
<h1>Hello, Rails!</h1>

  <% @lines.each do |line| %>
  <h1><%= line %></h1>
  <% end %> 

-->
<%
vars = request.query_parameters
line =vars['lines']
if line.nil?
  line = "Duration"
end
%>
<h1><%=line%></h1>
<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">
    function changeDivContent(ctl) { 
      <!--(ctl.src)-->
      largepic.innerHTML = '<img src="' + ctl.src + '" height="42" width="42">'
      
    };
</script>
<style>
div.pic {
  margin: 5px;
  border: 1px solid #ccc;
  float: left;
  width: 100%;
}
div.pic img {
  width: 40%;
  height: auto;
}

div.gallery {
  margin: 5px;
  border: 1px solid #ccc;
  float: left;
  width: 220px;
}

div.gallery:hover {
  border: 1px solid #777;
}

div.gallery img {
  width: 100%;
  height: auto;
}

div.desc {
  padding: 15px;
  text-align: center;
}
</style>
</head>
<body>

<form action="" method="get">
<select name="lines" onChange="this.form.submit();">
  <option value = "">Please choose a line</option>
<% @lines.each do |line| %>
  <option value="<%= line %>" > <%= line %> </option>
 <% end %> 
</select>
</form>

<div id="largepic" class="pic">
  <img src="<%=  %>" height="42" width="42">
</div>

<div id="imggal">
 

<%
@shingles.each do |props|
  if props["name"] == line
%>


<div class="gallery">
  <!--<a target="#largepic" href="<%= props["url"] %>">-->
    <img src="<%= props["url"] %>" alt="Cinque Terre" width="600" height="400" onclick="changeDivContent(this)">
  <!--</a>-->
  <div class="desc"><%= props["name"].to_s + " - " + props["color"].to_s %></div>
</div>
<%
  end
end
%>
</div>


<!--<select name="lines" onChange="lineChange(this);">-->
</body>
</html>